粒子の運動のシミュレーション 五月祭DVD配布版

■概要
　このプログラムは、粒子の動きをシミュレートするものです。
物理的な意味よりも、見て楽しむことを重視したシミュレーションです。

■簡単な使い方
　simulation.exeを実行してください。粒子が動いている様子が表示されます。
メインウィンドウをクリックしてpを押すか、「一時停止」ボタンを押すと動きが止まります。
もう一度押すと、再び動き始めます。
粒子を左ドラッグすると、粒子の位置を動かすことができます。
粒子を右ドラッグすると、粒子の速度を変えることができます。
「系全体の設定変更」の「粒子をランダムに配置」ボタンを押すと、粒子がランダムに配置されます。
「粒子の設定変更」の「ランダムな色の粒子の追加」ボタンを押すと、粒子が増やせます。
「粒子の設定変更」の「粒子の除去」ボタンを押すと、粒子が減らせます。

　シミュレーションの設定例のデータ(負の番号)があらかじめ入っているので、読み込んでみましょう。
「ファイル番号」に-1〜-31を入力し「設定の読込」ボタンを押すと、読み込むことができます。
「粒子をランダムに配置」ボタンを押したり、粒子を増やしたり減らしたりしてみてください。
設定例についての説明は、このテキストの下の方にあります。
設定例のパラメータを少し変えてみるのもいいでしょう。
パラメータについての詳しい説明は、このテキストの下の方にあります。

■困ったときには
・粒子が変な挙動をして消えてしまった
　「系全体の設定変更」の「粒子をランダムに配置」ボタンを押してみてください。
それでも駄目な場合はパラメータの設定が原因なので、パラメータを変えてみてください。

・プログラムが遅すぎる、あるいは速すぎる
　下の「シミュレーションの設定変更」の説明を見て、パラメータを調整してください。

・粒子が止まったまま動かない
　「一時停止」ボタンを押すか、メインウィンドウでpを押してみてください。
また、「グラフの表示」の「グラフを表示する」にチェックが入っていないか確かめてください。
粒子の速度が0になって止まっていることもあるので、粒子をドラッグするか、
「系全体の設定変更」の「粒子をランダムに配置」ボタンを押してください。

・粒子がドラッグで動かせない
　「各粒子の情報」や「粒子の設定変更」の「クリックで粒子を選択」に
チェックが入っていないか確かめてください。
また、「グラフの表示」の「グラフを表示する」にチェックが入っていないか確かめてください。

■詳しい説明
　以下の文章には、物理についてある程度の知識を持っていることを前提とした説明もあります。
なので、分からないところがあったら飛ばして読んでください。
設定については「習うより慣れろ」で、実際に色々といじってみてください。
基本的に、パラメータは0.1〜10程度の値を指定するとちょうど良い値となりますが、
もっと小さい値や大きい値を指定すべきパラメータについては以下で説明しています。

◆保存量
　エネルギーや運動量、角運動量という量があり、特定の条件の下ではその値が変化しません。
このような値の変化しない量を保存量といいます。(値が変わらないことを「保存する」といいます。)
この保存量を計算した結果を表示します。
どの条件でどの値が保存量となるかは、各パラメータの設定を見てください。

・保存量を計算する
　ここにチェックを入れると、保存量を計算して表示し続けます。
プログラムが遅くなることがあるので、必要のないときはチェックを外してください。

・保存量の再計算
　このボタンを押すと、その時点での保存量を計算して表示します。

・右方向の運動量
・下方向の運動量
・時計回りの角運動量
　粒子の質量と速度から求めた運動量、角運動量の和を表示します。

・右方向の磁場による運動量
・下方向の磁場による運動量
・時計回りの磁場による角運動量
　磁場は、ベクトルポテンシャルという量を用いて表すことができます。
ある磁場に対してベクトルポテンシャルの選び方は一通りではなく、
特定の選び方をすると、ベクトルポテンシャルから計算した運動量、角運動量と
上で計算した運動量、角運動量の和が保存するようになります。
そのような選び方のベクトルポテンシャルから計算した運動量、角運動量を表示します。

・右方向の全運動量
・下方向の全運動量
・時計回りの全角運動量
　上の二つの運動量、角運動量の和を表示します。

・全運動エネルギー
　粒子の運動エネルギーの和を表示します。

・粒子間のクーロンエネルギー
　クーロン力によるエネルギーの和を表示します。

・一様電場によるエネルギー
　電場による位置エネルギーの和を表示します。

・重力エネルギー
　重力による位置エネルギーの和を表示します。

・その他の外場のエネルギー
　「外場の追加」で設定した外場による位置エネルギーの和を表示します。

・その他の粒子間のエネルギー
　「二体間ポテンシャルの追加」で設定した二体間ポテンシャルによるエネルギーの和を表示します。

・全エネルギー
　上のすべてのエネルギーの和を表示します。

◆各粒子の情報
　粒子を選択することで、各粒子の情報を見ることができます。
情報を表示している間はプログラムが遅くなることがあるので、必要のないときは非表示にしてください。

・クリックで粒子を選択
　ここにチェックを入れると、左クリックで粒子を選択することができます。
チェックが入っていると、ドラッグで粒子を動かすことはできません。

・粒子の番号
　選択している粒子の番号です。ここに直接数字を入れて、粒子を選択することもできます。

・右方向の位置
・下方向の位置
　粒子の位置です。左上隅が原点です。

・右方向の速度
・下方向の速度
　粒子の速度です。

・質量
　粒子の質量です。

・電荷
　粒子の電荷です。電場や磁場による力、クーロン力は、電荷に比例します。

・散逸の度合い
　散逸力(エネルギーが保存しない力)は、この値に比例した大きさで働きます。
この値が1でないと、運動量や角運動量が保存しなくなります。

・粒子の表示色(赤)
・粒子の表示色(緑)
・粒子の表示色(青)
　0から1までの値で、値が大きいほど明るくなります。

・粒子の表示半径
　粒子を表示する大きさです。シミュレーション自体には影響を与えません。

◆粒子の設定変更
　個々の粒子のパラメータを変えたり、粒子を増やしたり減らしたりすることができます。
ここで入力した値は、対応する反映ボタンを押すまでシミュレーションに反映されません。

・クリックで粒子を選択
　ここにチェックを入れて粒子を左クリックすると、その粒子の番号が指定されます。

・現在の値を表示
　このボタンを押すと、指定されている番号の粒子の、現在の値が表示されます。

・位置の反映
・速度の反映
・質量の反映
・電荷の反映
・散逸の度合いの反映
・表示色の反映
・表示半径の反映
　入力した値を、シミュレーションに反映します。

・運動量が0になる速度を設定
　粒子の運動量の和が0になるように、その粒子の速度を設定します。
境界条件が壁なしのときに、粒子がウィンドウ外へ出ていくのをある程度防ぐことができます。

・表示色をランダムで設定
　表示色をランダムで設定します。

・粒子の追加
　粒子を追加します。最大で1000個まで追加できます。

・ランダムな色の粒子の追加
　ランダムな色の粒子を追加します。

・粒子の除去
　対応する番号の粒子を取り除きます。後の粒子の番号は一つずつずれます。

◆系全体の設定変更
　すべての粒子にかかわる設定を行います。

・重力、電場、クーロン力を有効にする
　チェックが入っていると、重力、電場、クーロン力が有効になります。
「外場の追加」や「二体間ポテンシャルの追加」で追加したポテンシャルのみを用いるときは、
チェックを外すとプログラムが速くなることがあります。

・右向きの重力
・下向きの重力
　重力を指定します。粒子の質量に比例した力が働き、加速度は一定となります。
運動量や角運動量は保存しなくなります。境界条件が周期のときは、エネルギーも保存しなくなります。
0.01程度の値を指定すると、ちょうど良い値となります。

・右向きの電場
・下向きの電場
　電場を指定します。粒子の電荷に比例した力が働きます。
運動量や角運動量は保存しなくなります。境界条件が周期のときは、エネルギーも保存しなくなります。
0.01程度の値を指定すると、ちょうど良い値となります。

・画面奥向きの磁場
　磁場を指定します。粒子の電荷に比例した力が、粒子の速度と垂直方向に働きます。
他に力がなければ、粒子は円運動をします。
粒子の運動量や角運動量は保存しなくなりますが、
磁場による運動量や角運動量を考えると全運動量や全角運動量は保存します。
境界条件が周期のときは、全運動量や全角運動量は保存しません。
0.01程度の値を指定すると、粒子が円運動をする様子が見えます。
また、5程度の値を指定して別の大きい力を加えると、粒子が変わった振る舞いをします。

・クーロン力の強さ
　正の値を指定すると、電荷が+の粒子同士、-の粒子同士が反発し、+と-の粒子が引き合います。
負の値を指定すると、電荷が同符号の粒子同士が引き合い、異符号の粒子同士が反発します。
遠く離れた粒子の間には小さい力が働き、近い粒子の間には大きい力が働きます。

・クーロン力を弱める距離
　クーロン力は近距離で急激に大きくなるので、あまり粒子が近づきすぎると計算結果がおかしくなってしまいます。
なので、ここで指定した距離よりも粒子が近づくと、クーロン力が弱まるようにしてあります。
弱める必要がないときには、0を指定してください。
計算式は、「二体間ポテンシャル」の「一様帯電球」を用いています。

・速度に比例した抵抗
　正の値を指定すると、粒子の速度に比例した力が逆向きに働いて、粒子が減速します。
負の値を指定すると粒子が加速しますが、速度が上がりすぎると計算結果がおかしくなるので注意してください。
0.001程度の値を指定すると、ちょうど良い値となります。

・平衡速度
　正の値を指定すると、「速度に比例した抵抗」が正のとき、粒子が平衡速度に近づくように力が働きます。
見て楽しむためのパラメータで、物理的な意味はありません。
負の値を指定することは想定していませんが、指定することはできます。

・横の境界条件
・縦の境界条件
　「周期」を指定すると、ウィンドウ外に出た粒子が反対側から出てきます。
このとき、角運動量は保存しません。
また、ウィンドウ端をまたいだ力が働かないので、エネルギーも保存しなくなります。
　「周期(相互作用も周期的)」を指定するとウィンドウ端をまたいだ力も働くので、
外場がなければエネルギーは保存します。角運動量は保存しません。
　「壁あり」を指定すると、ウィンドウ端で粒子が跳ね返ります。
このとき、運動量や角運動量は保存しなくなります。
　「壁あり(高精度)」を指定すると、「外場の追加」の「質量に比例」の「tanh」を用いて壁を計算します。
「壁あり」よりも計算誤差が生じにくくなっています。

・壁の強さ
　「壁あり(高精度)」の計算で用います。「外場の追加」の「ポテンシャルの強さ」に対応しています。
粒子の運動エネルギーが(粒子の質量)×(壁の強さ)より小さければ、粒子が壁で跳ね返ります。
粒子の運動エネルギーがこれより大きいと、粒子はウィンドウ外に行ってしまいます。

・壁のやわらかさ
　「壁あり(高精度)」の計算で用います。「外場の追加」の「tanh」のパラメータbに対応しています。
この値が大きいほど、壁で粒子の受ける力が小さくなり、粒子の速度がゆっくり変化するようになります。
この値が小さすぎると、計算誤差が生じやすくなります。

・壁の位置
　「壁あり(高精度)」の計算で用います。この値が大きいと、壁が内側によります。
この値が大きすぎると、「粒子をランダムに配置」ボタンを押したときの粒子の挙動がおかしくなることがあります。

・粒子をランダムに配置
　このボタンを押すと、粒子をランダムに配置します。
粒子の速度は、「シミュレーションの設定変更」の「右ドラッグで与える速度」に比例したランダムな値になります。

◆外場の追加
　粒子の位置に依存するポテンシャルや、エネルギー散逸を設定することができます。
　ポテンシャルを比喩で説明すると、坂にボールを置いたとき、ボールは高い所から低い所に転がります。
高い所では遅く転がっていたボールは、低い所では速く転がります。
これと同様に、粒子はポテンシャルの高い所から低い所に向かうように力を受けます。
また、ポテンシャルの高い所では粒子は遅く動き、低い所では速く動きます。
　エネルギー散逸は、同じ比喩で説明すればボールの空気抵抗や摩擦に相当します。
エネルギー散逸の大きいところでは、粒子が減速しやすくなります。
エネルギー散逸を負の値にすれば、粒子を加速させることもできます。
　以下ではポテンシャルの数式も出てきますが、分からなければ「グラフの表示」を使ってみてください。

・ポテンシャルの番号
　設定するポテンシャルの番号を指定します。0から9までを使うことができます。

・ポテンシャルの種類
　「無効にする」を選ぶと、ポテンシャルが無効になります。
　「電荷に比例」を選ぶと、粒子の電荷に比例したポテンシャルが加わります。
　「質量に比例」を選ぶと、粒子の質量に比例したポテンシャルが加わります。
　「エネルギー散逸」を選ぶと、数式で指定した大きさの散逸が加わります。
平衡速度が0でないときは、平衡速度に近づくように力が働きます。
エネルギー、運動量、角運動量は保存しなくなります。

・ポテンシャルの形
　ポテンシャルの数式の形を選びます。x軸は右向きが正で、y軸は下向きが正です。

　「一様な場」はU(x,y)=-ax-byの形をしています。aは右向きの力、bは下向きの力を表しています。
粒子の位置に依らない、一定の力を加えたいときに使います。
「ポテンシャルの強さ」に0.01程度の値を指定すると、ちょうど良い値となります。

　「x方向(右向き)の二次式」はU(x,y)=(x-a)^2の形をしています。
　「y方向(下向き)の二次式」はU(x,y)=(y-a)^2の形をしています。
aはポテンシャルが最小(最大)となるx座標、y座標を表しています。
特定の場所でポテンシャルが最小(最大)となるポテンシャルを作りたいときに使います。
「ポテンシャルの強さ」に0.00001〜0.0001程度の値を指定すると、ちょうど良い値となります。

　「x方向(右向き)のtanh」はU(x,y)=tanh((x-a)/b)の形をしています。
　「y方向(下向き)のtanh」はU(x,y)=tanh((y-a)/b)の形をしています。
x,yがおよそa±bの範囲で急激に変化するポテンシャルです。
特定のx座標、y座標の付近で力を加えたいときに使います。

・ポテンシャルの強さ
　ポテンシャルの大きさは、この値に比例します。

・パラメータa
・パラメータb
・パラメータc
　上の数式のa,b,cの値を指定します。(cは未使用)

◆二体間ポテンシャルの追加
　二つの粒子の距離に依存するポテンシャルや、エネルギー散逸を設定することができます。
粒子同士に引き合う力や反発する力を加えることができます。
　以下ではポテンシャルの数式も出てきますが、分からなければ「グラフの表示」を使ってみてください。

・ポテンシャルの番号
　設定するポテンシャルの番号を指定します。0から9までを使うことができます。

・ポテンシャルの種類
　「無効にする」を選ぶと、ポテンシャルが無効になります。
　「電荷に比例」を選ぶと、二つの粒子の電荷の積に比例したポテンシャルが加わります。
　「質量に比例」を選ぶと、二つの粒子の質量の積に比例したポテンシャルが加わります。
　「エネルギー散逸」を選ぶと、数式で指定した大きさの散逸が加わります。
平衡速度が0でないときは、平衡速度に近づくように力が働きます。
エネルギー、運動量、角運動量は保存しなくなります。
二粒子の間での散逸というよりは、粒子が集まったことで散逸を受けやすくなるということを想定しています。
　「相対速度に比例した散逸」を選ぶと、数式で指定した大きさの散逸が加わります。
二粒子が同じ速度に近づくように、力が働きます。
二粒子が回転していれば、回転が止まるように力が働きます。
運動量は保存しますが、エネルギー、角運動量は保存しなくなります。
　「角運動量を保存する散逸」を選ぶと、数式で指定した大きさの散逸が加わります。
二粒子が同じ速度に近づくように、中心力(引き合う力や反発する力)が働きます。
二粒子が回転していれば、回転が続きます。
運動量、角運動量は保存しますが、エネルギーは保存しなくなります。

・ポテンシャルの形
　ポテンシャルの数式の形を選びます。rは二粒子の間の距離です。

　「一様帯電球」はU(r)=1/r (r≧a), U(r)=1/2a*(3-r^2/a^2) (r<a)の形をしています。
一様に帯電した、半径aの球が作るポテンシャルの形をしています。
(ただし、一様帯電球と点電荷の間のポテンシャルであって、一様帯電球同士のポテンシャルとは違います。)
二粒子の距離がaより大きいときは、距離の二乗に反比例する力が働きます。
二粒子の距離がaより小さいときは、距離に比例する力が働きます。

　「累乗」はU(r)=(r/b)^aの形をしています。
a>1のとき、二粒子の距離がおよそbより大きいところで大きな力が働きます。
a=1のとき、二粒子の距離に依らない力が働きます。
0<a<1のとき、二粒子の距離がおよそbより小さいところで大きな力が働きます。
a=0のとき、力は働きません。二粒子の距離に依らない散逸を指定するときに使います。
a<0のとき、二粒子の距離がおよそbより小さいところで大きな力が働きます。
「ポテンシャルの強さ」が正でaを負の大きな値にすると、二粒子の距離がおよそbで跳ね返る力が働きます。
ただし、粒子が近過ぎると計算結果がおかしくなるので注意してください。
「累乗」を二つ組み合わせると、原子間のポテンシャルの一つである、
レナードジョーンズポテンシャル( U(r)=(r/a)^(-12)-(r/a)^(-6)の形 )を作ることができます。

　「累乗と指数の積」はU(r)=(r/b)^a*exp(-r/c)の形をしています。
a,bについては「累乗」と同じですが、二粒子の距離がおよそcより大きいところでポテンシャルが減衰します。
a=-1にすると、湯川ポテンシャルというものになります。

　「tanh」はU(r)=1-tanh((r-a)/b)の形をしています。
二粒子の距離がおよそa±bの範囲で大きな力が働きます。
「ポテンシャルの強さ」が正でaを小さい値にすると、二粒子が重ならないようにする力が働きます。
「ポテンシャルの強さ」が負でaを10〜100程度の値にすると、粒子が塊になるような力が働きます。
粒子の塊を作りたいときは、エネルギーが保存していると塊になりにくいので、
「tanh」の散逸を入れたりしてエネルギーが適度に減るようにしてください。

　「モースポテンシャル」はU(r)=exp(-2(r-a)/b)-2exp(-(r-a)/b)の形をしています。
モースポテンシャルは原子間のポテンシャルの一つで、二粒子の距離がおよそaになるように力が働きます。
bが小さいと、二粒子の距離を固定する力が強くなります。
bは10程度の値を指定すると、ちょうど良い値となります。
bが小さいと計算結果がおかしくなりやすいので注意してください。

　「ガウス分布」はU(r)=exp(-(r-a)^2/2b^2)の形をしています。
　「ローレンツ分布」はU(r)=1/(1+(r-a)^2/b^2)の形をしています。
二粒子の距離がおよそa±bの所にポテンシャルや散逸の山を作ります。
ガウス分布よりもローレンツ分布の方が、山のすそが長くなります。

・ポテンシャルの強さ
　ポテンシャルの大きさは、この値に比例します。
散逸のときは0.001程度の値を指定すると、ちょうど良い値となります。

・パラメータa
・パラメータb
・パラメータc
　上の数式のa,b,cの値を指定します。

◆グラフの表示
　ポテンシャルの数式だけを見ても、どんな形をしているか分からないと思います。
そんなときは、この機能を使ってグラフを表示してみてください。
黒い線はグラフの軸、赤い線は外場を調べる軸、青い線はポテンシャルのグラフです。

・グラフを表示する
　ここにチェックを入れると、シミュレーションを中断してグラフを表示します。
グラフの表示中は、マウスで粒子を操作することはできません。

・粒子を表示する
　ここにチェックを入れると、粒子を表示します。
グラフを粒子に重ねて表示したいときに使います。

・グラフの原点を指定する
　ここにチェックを入れてメインウィンドウをクリックすると、
クリックした場所がグラフの原点になります。

・外場を調べる軸を指定する
　三次元グラフを表示することはできないので、外場のポテンシャルを表示するときは
赤い線の上でのポテンシャルを表示することになります。
　ここにチェックを入れると、赤い線の位置をクリックで変えられます。
赤い線は、「表示するもの」で外場を選んだときだけ表示されます。
赤い線の方向は、「ポテンシャルの軸」で指定した向きと垂直になります。

・表示するもの
　表示するポテンシャルの種類を選びます。

　「個々の外場のポテンシャル」を選ぶと、指定した番号のポテンシャルを表示します。
　「外場のポテンシャルの和」を選ぶと、「和を取るもの」でチェックを入れたポテンシャルの和を表示します。
　「一粒子の散逸の和」を選ぶと、「和を取るもの」でチェックを入れた散逸の和を表示します。
上の三つは、粒子の位置に依存するポテンシャル、散逸を表示します。

　「個々の二体間ポテンシャル」を選ぶと、指定した番号のポテンシャルを表示します。
　「二体間ポテンシャルの和」を選ぶと、「和を取るもの」でチェックを入れたポテンシャルの和を表示します。
　「二体間の散逸の和」を選ぶと、「和を取るもの」でチェックを入れた散逸の和を表示します。
上の三つは、二粒子の距離に依存するポテンシャル、散逸を表示します。

・ポテンシャルの番号
　表示するポテンシャルの番号を指定します。

・和を取るもの
　ここでチェックを入れたものの和が表示されます。
ポテンシャルと散逸の和には意味がないので、
ポテンシャルと散逸のうち「表示するもの」で選んだものの和が表示されます。
　「壁のポテンシャル」は、境界条件で「壁あり(高精度)」を選んだときだけ表示されます。

・ポテンシャルの軸
　ポテンシャルの軸を上向きに取るか、右向きに取るかを指定します。
外場を表示するときは、外場を調べる軸(赤い線)の向きも同時に指定することになります。

・グラフの原点のx座標(右向き)
・グラフの原点のy座標(下向き)
　グラフの原点の座標が表示されます。ここに直接値を入れることもできます。

・外場を調べるx座標(右向き)
・外場を調べるy座標(下向き)
　外場を調べる軸の座標が表示されます。ここに直接値を入れることもできます。
「ポテンシャルの軸」で選んだ向きによって、どちらか一方のみが使われます。

・表示するポテンシャルの範囲
・表示する散逸の範囲
　表示するポテンシャルや散逸の範囲を指定します。
グラフが画面からはみ出したときはこの値を小さくし、
グラフの変化が細かすぎて見えないときはこの値を大きくしてください。

・粒子の電荷(の積)
・粒子の質量(の積)
　ポテンシャルの値は粒子の電荷や質量に依存するので、それらを指定することができます。
二体間ポテンシャルでは、二粒子の電荷や質量の積を指定します。

◆シミュレーションの設定変更
　シミュレーションの速度に関する設定と、ウィンドウサイズに関する設定ができます。

・シミュレーション速度
　内部で計算するときの時間の刻み幅を指定します。
この値を大きくすると、シミュレーションが速くなりますが、計算誤差が大きくなります。
この値を小さくすると、シミュレーションが遅くなりますが、計算結果が正確になります。
この値が大きすぎると、粒子が変な挙動をして消えてしまうことがあります。

・表示間隔
　計算結果をウィンドウに表示する間隔を指定します。
この値が小さいと表示が滑らかになりますが、シミュレーションが遅くなります。
この値が大きいと表示がカクカクになりますが、シミュレーションが速くなります。
表示がカクカクにならない程度に大きな値を指定してください。

・右ドラッグで与える速度
　右ドラッグで粒子に与える速度を指定します。
右ドラッグしてちょうど良いと思う値を指定してください。
「系全体の設定変更」の「粒子をランダムに配置」ボタンを押したときの速度は、
ここで指定した値に比例します。

・ウィンドウサイズ
　ウィンドウの幅と高さが表示されます。
値を直接入力して「サイズ変更」ボタンを押すと、ウィンドウサイズが変更されます。
また、ウィンドウの端をドラッグして直接サイズを変更することもできます。

◆その他
・設定の読込、保存
　「ファイル番号」に数字を入れて「設定の読込」ボタンを押すと、設定を読み込むことができます。
指定した番号のファイルがないときは、何も起こりません。
初めから入っている設定は、負の番号となっています。
　「設定の保存」ボタンを押すと、設定が保存されます。
番号は使われていないものが自動的に指定されて、「ファイル番号」に表示されます。
　設定を削除する機能は付いていないので、削除したいときはdataフォルダのtxtファイルを削除してください。

・一時停止
　「一時停止」ボタンを押すか、メインウィンドウでpを押すとシミュレーションが一時停止します。
もう一度押すと、シミュレーションが再開します。

・終了
　ウィンドウ右上の×を押すか、「終了」ボタンを押すか、
メインウィンドウでqかEscを押すと、プログラムが終了します。

・ドラッグでの粒子の操作
　粒子を左ドラッグすると粒子の位置が変更できます。
粒子を右ドラッグすると粒子の速度が変更できます。
速度が速すぎたり遅すぎたりするときは、「シミュレーションの設定変更」の
「右ドラッグで与える速度」の値を調整してください。
粒子が重なっているときは、番号の小さい粒子が選択されます。

・コントロールウィンドウの操作
入力した文字は、Deleteキーで消すことができません。Backspaceキーを使ってください。
ボタンを連続して押したいときは、スペースバーを使うことができます。

■設定例の説明
　設定例の中には物理的な意味を持たないようなものもありますが、
見て楽しめることを重視して設定例を付けています。
パラメータについて詳しい説明はしないので、自分で見て確かめてみてください。
設定例は、「ファイル番号」に負の数を入れることで見られます。

No.-1
　初期設定のデータです。設定をリセットしたいときに読み込んでください。
No.-2
　磁場の中を、互いに反発しあう粒子が動きます。
No.-3
　粒子が一定の距離に近づくような力を加えています。
エネルギーが保存するようにしているので、粒子のペアは出来にくくなっています。
No.-4
　粒子がある距離より近づくと、位置エネルギーが下がるようにしてあります。
結果として、高速で動く粒子の集団ができます。
No.-5
　粒子が一定距離に近づいたときだけ距離を固定するような力が働きます。
粒子が近づき過ぎると、反発力が働きます。
No.-6
　粒子の間に、強い反発力が働いています。
粒子を動かしたり増やしたり減らしたりすると、粒子同士が反発しあって安定します。
No.-7
　磁場の中を、二つの粒子が互いの周りを回るように運動しています。
それぞれの粒子は高速で円運動をしていて、その半径は周期的に変化します。
No.-8
　粒子が近くに来ると、速度が等しくなるように力が働いて集団になります。
粒子が止まらないように、常にほぼ一定の速度で動くようにしてあります。
No.-9
　四つの粒子が、一つの物体を作っているかのように動きます。
左ドラッグや右ドラッグで粒子を動かしてみてください。
No.-10
　No.-9で、横の端をつなげています。
No.-11
　強い磁場があると、粒子は変わった動きをします。
「粒子をランダムに配置」を押して、しばらく待つと粒子が円形に並びます。
その後に「クーロン力の強さ」を変えると、粒子が回転しながら広がったり集まったりします。
No.-12
　強い磁場があり、粒子同士が回転するような力が働きます。
「粒子をランダムに配置」を押すと、最終的に粒子全体が大きく回転するようになります。
No.-13
　No.-12を、周期的な境界条件でやっています。
「粒子をランダムに配置」を押すと、最終的に粒子がほぼ等間隔で並びます。
No.-14
　No.-13で、粒子同士の回転が収まりにくいようにしています。
No.-15
　強い磁場中で下向きの重力をかけ、電荷が正と負の二つの粒子間に距離に比例する力を働かせると、
二つの粒子が一つの物体であるかのように動きます。
No.-16
　粒子の塊ができ、塊同士が重力のような力で引き合います。
No.-17
　No.-16を周期境界条件にしています。
「粒子をランダムに配置」を押して待つと、運が良ければいくつかの塊が互いの周りを回る様子が見えます。
No.-18
　No.-17で、遠距離にある粒子同士のエネルギーが少しずつ失われるようにしています。
「粒子をランダムに配置」を押して待つと、運が良ければいくつかの塊が互いの周りを回る様子が見えます。
読み込んだ直後には、連星の周りを一つの惑星が回るような様子が表示されます。
No.-19
　No.-18で、粒子が画面外に出るくらい離れると強い引力が働くようにしています。
「粒子をランダムに配置」を押した後、「粒子の設定変更」の「運動量が0になる速度を設定」を押して、
全運動量が0になるようにしてください。
No.-20
　粒子が一定距離に来ると安定になるようにしています。
また、粒子が止まらないように、常にほぼ一定の速度で動くようにしてあります。
「粒子をランダムに配置」を押してしばらく待つと、粒子が規則的に並んだ塊ができます。
「二体間ポテンシャルの追加」で0番のパラメータbを少しずつ小さくすると、塊が変形しにくくなります。
No.-21
　No.-20で、下向きの電場を加えています。粒子の塊が跳ねながら左右に往復する様子が見えます。
No.-22
　正の電荷と負の電荷の二種類があり、遠距離では同符号の粒子が反発し、異符号の粒子が引き合います。
逆に、近距離では同符号の粒子が引き合い、異符号の粒子が反発します。
結果として、正電荷の粒子の塊と負電荷の粒子の塊がいくつかできます。
No.-23
　No.-22に磁場を加え、粒子が常にほぼ一定の速度で動くようにしてあります。
No.-24
　粒子同士がある距離まで近づくまでは反発する力が働き、それよりも近づくと塊になるような力が働きます。
また、粒子がある速度になるまでゆっくりと加速されるようにしています。
No.-25
　No.-24で、塊同士が衝突しやすくなるように加速するようにしています。
また、粒子同士が極端に近付くと反発するようにしています。
No.-26
　No.-25で、塊を少し壊れやすくしています。
No.-27
　粒子が塊を作ります。また、粒子が一定の速度に近づくような力を加えています。
最終的には、一つの大きな塊が回転するようになります。
No.-28
　「粒子をランダムに配置」を押すと、すぐに粒子が集まって一つの大きな塊を作ります。
No.-29
　粒子が塊を作るようにしていますが、塊の中の粒子が多くなると粒子が飛び出すようにしています。
「二体間ポテンシャルの追加」で1番の「ポテンシャルの強さ」を変えると、
塊から粒子の飛び出す頻度が変わります。
No.-30
　No.-29で、粒子がもう少しゆっくり動くようにしたものです。
No.-31
　粒子の塊ができ、大きな塊からは粒子が飛び出すようにしています。

■その他のプログラムについて
　sim_data.exeを使うと、設定データを読んで分かる形式に変換することができます。
変換したデータは、textdataフォルダに保存されます。
　マルチコアのCPUを使っている場合、simulation_fast.exeを使うとより高速に動作します。
ただし、vcomp90.dllというファイルが必要で、このDVDには付属していません。
ただ、ネット上で入手することができるので、入手して同じフォルダに入れてください。

■利用したライブラリ
　このプログラムでは、画面表示にOpenGL、GLUTを利用しています。
また、コントロールウィンドウの表示には、GLUIを日本語化したものを利用しています。
simulation_fast.exeでは、OpenMPを利用しています。
　GLUIの日本語化には、下のページのものを利用させていただきました。
http://www.aya.or.jp/~sanami/peace/memorial/code41-50.html#CODE41

■ファイル構成
 simulation.exe      シミュレーションのプログラム
 simulation_fast.exe 高速で動作するシミュレーションのプログラム
 sim_data.exe        設定の記録データを読める形式に変換するプログラム
 readme.txt          説明のテキストファイル
 glut32.dll          グラフィック表示に必要なGLUTのDLL
 sjis.fnt            日本語を表示するためのフォント
 data                設定を記録するためのフォルダ
 textdata            変換したデータを記録するためのフォルダ
